<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>XML Search Page</title>
        <link rel="stylesheet" type="text/css" href="../static/style.css" />

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <script type="text/javascript">
            async function XMLFunction() {
                var xml = "" + '<?xml version="1.0" encoding="UTF-8"?>' + '<!DOCTYPE root [<!ENTITY myentity "my entity value" >]>' + "<root>" + "<search_param>" + $("#search").val() + "</search_param>" + "</root>";
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.open("POST", "search", true);
                xmlhttp.send(xml);

                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4) {
                        document.getElementById("results").innerHTML = xmlhttp.responseText;
                    }
                };
            }

            function HintFunction() {
                document.getElementById("hint").innerHTML = "FLAG WAS HERE!";
            }
        </script>
    </head>
    <body>
        <div id="bg"></div>

        <form onsubmit="return false">
            <div class="form-field">
                <input type="search" id="search" type="text" class="text" value="" placeholder="Search anything..." required />
            </div>

            <div class="form-field">
                <button class="btn" type="submit" onclick="XMLFunction()">Search!</button>
            </div>

            <br />
            <br />
            <div style="text-align: center;">
                <button id="hintbutton" onclick="HintFunction()">Hint</button>
                <p id="hint"></p>
            </div>

            <br />
            <br />
            <div style="text-align: center;">
                <h3 class="sentence" id="res_header">Results</h3>
                <br />
                <p class="sentence" id="results"></p>
            </div>
        </form>
    </body>
</html>
